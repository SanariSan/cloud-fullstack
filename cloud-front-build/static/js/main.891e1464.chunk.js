(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{15:function(e,t,n){e.exports={root:"panel-settings_root__3cuDt",ui:"panel-settings_ui__dmHk-",segment:"panel-settings_segment__1PaGO",image:"panel-settings_image__2spj0",mini:"panel-settings_mini__1ZUg6",dropdown:"panel-settings_dropdown__1hI0X",floating:"panel-settings_floating__UJ-Iy",menu:"panel-settings_menu__1ywfX",item:"panel-settings_item__3yL1k",button:"panel-settings_button__FDxRe",container:"panel-settings_container__1AsPN","container-fluid":"panel-settings_container-fluid__mJPHk",settingsBlock:"panel-settings_settingsBlock__4dIAh",scroll:"panel-settings_scroll__1rUHh",formStyled:"panel-settings_formStyled__1Mfkk",fieldWrap:"panel-settings_fieldWrap__39QOP",Input:"panel-settings_Input__2ZGai",settingsBlocksWrap:"panel-settings_settingsBlocksWrap__-Tr4l",fullSize:"panel-settings_fullSize__1CrfI",rowSideTop:"panel-settings_rowSideTop__14gDp",rowSideBot:"panel-settings_rowSideBot__39uNQ",btn:"panel-settings_btn__18hnJ",rowMiddle:"panel-settings_rowMiddle__3HJTL"}},152:function(e,t,n){e.exports={App:"App_App__15LM-"}},19:function(e,t,n){e.exports={root:"panel-search_root__Ww1BI",ui:"panel-search_ui__1EC8D",segment:"panel-search_segment__1vhZA",image:"panel-search_image__2yDd3",mini:"panel-search_mini__3j1P9",dropdown:"panel-search_dropdown__3jrET",floating:"panel-search_floating__2G_LV",menu:"panel-search_menu__1ytZY",item:"panel-search_item__3WFHM",button:"panel-search_button__1so5s",container:"panel-search_container__1788p","container-fluid":"panel-search_container-fluid__3CmNj",settingsBlockLeft:"panel-search_settingsBlockLeft__1meig",settingsBlockRight:"panel-search_settingsBlockRight__16TrW",scroll:"panel-search_scroll__A85Qn",formStyled:"panel-search_formStyled__1jbBU",fieldWrap:"panel-search_fieldWrap__1wk0i",Input:"panel-search_Input__3fQ3d",settingsBlocksWrap:"panel-search_settingsBlocksWrap__13jyJ",fullSize:"panel-search_fullSize__1o1Dh",rowSideTop:"panel-search_rowSideTop__DCqZf",rowSideBot:"panel-search_rowSideBot__3Y6Ev",btn:"panel-search_btn__3JtAs",rowMiddle:"panel-search_rowMiddle__2POV8"}},209:function(e,t,n){},210:function(e,t,n){"use strict";n.r(t);n(174);var a,r=n(47),c=n(0),s=n.n(c),o=n(65),i=n.n(o),u=n(221),l=(n(179),n(9)),p=n(152),d=n.n(p),f=n(153),j=n(154),b=n(161),h=n(159),m=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(f.a)(this,n),r=t.call(this,e),a=e.history,r}return Object(j.a)(n,[{key:"render",value:function(){return null}}]),n}(s.a.Component),O=Object(u.d)(m);function g(e){if(!a)throw new Error("No history Object. You probably forgot to mount ReactRouterGlobalHistory");a.push(e)}var x,_,w=n(1),v=function(){return Object(w.jsxs)("div",{className:"",children:["Not Found or No Rights to access"," ",Object(w.jsx)("button",{onClick:function(){return g("/")},children:"Back to main"})]})},k=n(70),y=function(){return Object(w.jsx)("div",{style:{backgroundColor:"black",opacity:.7,zIndex:10,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",width:"100%",height:"100%"},children:Object(w.jsx)(k.a,{loading:!0,color:"grey",inverted:!0,size:"huge",name:"hourglass end"})})},S=n(7),N=n(3),C=n.n(N),T=n(8),E=n(14),A=n(230),I=n(222),B=n(227),R=n(223),D=function(e){var t=e.handleLogin,n=(e.errMessage,e.setErrMessage,Object(c.useState)("")),a=Object(E.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)(""),i=Object(E.a)(o,2),u=i[0],l=i[1];return Object(w.jsxs)(I.a,{children:[Object(w.jsxs)(B.a.Item,{as:"a",onClick:function(){return g("/panel")},children:[Object(w.jsx)(k.a,{name:"lock"}),"Panel"]}),Object(w.jsxs)(B.a.Item,{as:"a",onClick:function(){return g("/auth/register")},children:[Object(w.jsx)(k.a,{name:"lock"}),"Register"]}),Object(w.jsx)(R.a,{label:"login",value:r,onChange:function(e){return s(e.currentTarget.value)}}),Object(w.jsx)(R.a,{label:"password",value:u,onChange:function(e){return l(e.currentTarget.value)}}),Object(w.jsx)(A.a,{active:!0,onClick:function(){return t(r,u)},children:"Login"})]})},U=function(e){var t=e.handleRegister,n=(e.errMessage,e.setErrMessage,Object(c.useState)("")),a=Object(E.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)(""),i=Object(E.a)(o,2),u=i[0],l=i[1];return Object(w.jsxs)(I.a,{children:[Object(w.jsxs)(B.a.Item,{as:"a",onClick:function(){return g("/panel")},children:[Object(w.jsx)(k.a,{name:"lock"}),"Panel"]}),Object(w.jsxs)(B.a.Item,{as:"a",onClick:function(){return g("/auth/login")},children:[Object(w.jsx)(k.a,{name:"lock"}),"Login"]}),Object(w.jsx)(R.a,{label:"login",value:r,onChange:function(e){return s(e.currentTarget.value)}}),Object(w.jsx)(R.a,{label:"password",value:u,onChange:function(e){return l(e.currentTarget.value)}}),Object(w.jsx)(A.a,{active:!0,onClick:function(){return t(r,u)},children:"Register"})]})},M=function(e){var t=window.localStorage.getItem(e),n=null;try{n=t?JSON.parse(t):null}catch(a){console.warn("No key in local storage, please clear cookies and refresh")}return n},P=function(e,t){var n=JSON.stringify(t);window.localStorage.setItem(e,n)},G=function(){var e=M("accessToken");return{Authorization:"Bearer ".concat(e)}},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"".concat(e,"/").concat(encodeURIComponent(t))},Q={accessToken:M("accessToken"),refreshToken:M("refreshToken")},W=l.Atom.of(Q),z=n(21),J=function(e,t){P("accessToken",e),P("refreshToken",t),Object(z.swap)(W,(function(n){return{accessToken:e,refreshToken:t}}))},L=function(){var e=Object(T.a)(C.a.mark((function e(){var t,n,a,r,c,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(l.deref)(W),t.accessToken,!(n=t.refreshToken)){e.next=10;break}return e.next=4,xe({refreshToken:n}).catch((function(e){console.warn("Could not refresh ",e)}));case 4:if(!((a=e.sent)&&a.data&&a.data.accessToken&&a.data.refreshToken)){e.next=10;break}return r=a.data,c=r.accessToken,s=r.refreshToken,J(c,s),g("/auth"),e.abrupt("return");case 10:J(null,null),g("/auth");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!function(e){e.SUCCESS="3000",e.FAILURE="3001",e.INVALID_ACCESS_TOKEN="3002"}(x||(x={})),function(e){e[e.SUCCESS=200]="SUCCESS",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.INTERNAL_ERROR=500]="INTERNAL_ERROR"}(_||(_={}));var K=!1,X=function(){var e=Object(T.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data.data&&t.data.message&&t.data.statusCode?{code:t.data.statusCode,message:t.data.message,data:t.data.data}:t.data,e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(T.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.response){e.next=44;break}if(!(t.response.status&&t.response.data.statusCode&&t.response.data.message)){e.next=42;break}if(n={status:t.response.status,code:t.response.data.statusCode,message:t.response.data.message},console.warn(n),n.code!==x.INVALID_ACCESS_TOKEN){e.next=15;break}if(K){e.next=11;break}return K=!0,setTimeout((function(){K=!1}),6e4),le(),e.next=11,L();case 11:throw console.log(1),n;case 15:if(n.code!==x.FAILURE){e.next=40;break}if(n.status!==_.UNAUTHORIZED){e.next=27;break}if(K){e.next=23;break}return K=!0,setTimeout((function(){K=!1}),6e4),le(),e.next=23,L();case 23:throw console.log(2),n;case 27:if(n.status!==_.FORBIDDEN){e.next=32;break}throw console.log(3),n;case 32:if(n.status!==_.BAD_REQUEST){e.next=37;break}throw console.log(4),n;case 37:if(n.status!==_.INTERNAL_ERROR){e.next=40;break}throw console.log(5),n;case 40:e.next=44;break;case 42:console.log(6),console.error(t);case 44:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=M("currentGroupInfo"),V=l.Atom.of(Z),Y=function(e){P("currentGroupInfo",e),Object(z.swap)(V,(function(t){return e}))},q=M("userGroupOwnage"),$=l.Atom.of(q),ee=function(e){P("userGroupOwnage",e),Object(z.swap)($,(function(t){return e}))},te=M("profileInfo"),ne=l.Atom.of(te),ae=function(e){P("profileInfo",e),Object(z.swap)(ne,(function(t){return e}))},re=M("storageInfo"),ce=l.Atom.of(re),se=function(e){P("storageInfo",e),Object(z.swap)(ce,(function(t){return e}))},oe=M("userGroupsList")||[],ie=l.Atom.of(oe),ue=function(e){P("userGroupsList",e),Object(z.swap)(ie,(function(t){return e}))},le=function(){ae(null),ee(null),ue(null),Y(null),se(null)},pe={Accept:"application/json","Content-Type":"application/json"},de=n(94),fe=n.n(de),je="https://storeton.herokuapp.com",be=(parseInt("3000"),fe.a.create({baseURL:"".concat(je,"/").concat("v1"),headers:pe,timeout:1e4})),he=fe.a.create({baseURL:"".concat(je,"/"),headers:pe,timeout:1e4}),me=function(e){return function(t){var n=t.path,a=t.headers,r=t.data,c=t.extra;return e(n,r||Object(S.a)(Object(S.a)({},c),{},{headers:a}),Object(S.a)(Object(S.a)({},c),{},{headers:a})).then(X).catch(H)}},Oe=function(e){var t=e.oldPassword,n=e.newPassword;return me(be.post)({path:F("/access/change-password"),headers:Object(S.a)({},G()),data:{oldPassword:t,newPassword:n}})},ge=function(e){var t=e.email,n=e.password;return me(be.post)({path:F("/access/login"),data:{email:t,password:n}})},xe=function(e){var t=e.refreshToken;return me(be.put)({path:F("/access/refresh"),headers:Object(S.a)({},G()),data:{refreshToken:t}})},_e=function(e){var t=e.email,n=e.password;return me(be.post)({path:F("/access/register"),data:{email:t,password:n}})},we=l.Atom.of(!1),ve=function(e){Object(z.swap)(we,(function(t){return e}))},ke=function(){var e=Object(l.useAtom)(W),t=Object(c.useState)(null),n=Object(E.a)(t,2),a=n[0],r=n[1],s=Object(c.useRef)(!0);Object(c.useEffect)((function(){return function(){s.current=!1}}),[]),Object(c.useEffect)((function(){ve(!0),!0===s.current&&e.accessToken&&e.refreshToken&&g("/panel"),ve(!1)}),[e]);var o=function(){var e=Object(T.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.accessToken,a=t.refreshToken,ve(!0),!s.current){e.next=5;break}return e.next=5,J(n,a);case 5:ve(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(T.a)(C.a.mark((function e(t,n){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.current){e.next=9;break}return ve(!0),e.next=4,ge({email:t,password:n}).catch(function(){var e=Object(T.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.message){e.next=4;break}return e.next=3,r(t.message);case 3:alert(t.message);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:if(!(a=e.sent)||!a.data){e.next=8;break}return e.next=8,o(Object(S.a)({},a.data.tokens));case 8:ve(!1);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(T.a)(C.a.mark((function e(t,n){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.current){e.next=9;break}return ve(!0),e.next=4,_e({email:t,password:n}).catch(function(){var e=Object(T.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.message&&alert(t.message);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:if(!(a=e.sent)||!a.data){e.next=8;break}return e.next=8,o(Object(S.a)({},a.data.tokens));case 8:ve(!1);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(w.jsxs)(u.c,{children:[Object(w.jsx)(u.a,{exact:!0,path:"/auth/register",render:function(e){return Object(w.jsx)(U,Object(S.a)({handleRegister:p,errMessage:a,setErrMessage:r},e))}}),Object(w.jsx)(u.a,{path:"/auth",render:function(e){return Object(w.jsx)(D,Object(S.a)({handleLogin:i,errMessage:a,setErrMessage:r},e))}})]})},ye=n(160),Se=function(e){var t=e.handleGroupCreate,n=Object(c.useState)(""),a=Object(E.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)(""),i=Object(E.a)(o,2),u=i[0],l=i[1];return Object(w.jsxs)("div",{children:[Object(w.jsx)(R.a,{label:"Group name",value:r,onChange:function(e){return s(e.currentTarget.value)}}),Object(w.jsx)(R.a,{label:"Group password",value:u,onChange:function(e){return l(e.currentTarget.value)}}),Object(w.jsx)(A.a,{active:!0,onClick:function(){return t(r,u)},children:"Create Group"}),Object(w.jsx)("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",backgroundColor:"black",opacity:"0.8",zIndex:-1}})]})},Ne=function(){return me(be.get)({path:F("/info/info-profile"),headers:Object(S.a)({},G())})},Ce=function(e){var t=e.id;return me(be.post)({path:F("/info/info-group"),headers:Object(S.a)({},G()),data:{id:t}})},Te=function(e){var t=e.oldPassword,n=e.newPassword;return me(be.post)({path:F("/group/change-password"),headers:Object(S.a)({},G()),data:{oldPassword:t,newPassword:n}})},Ee=function(e){var t=e.groupId,n=e.password;return me(be.post)({path:F("/group/join"),headers:Object(S.a)({},G()),data:{groupId:t,password:n}})},Ae=function(e){var t=e.groupId,n=e.userId;return me(be.post)({path:F("/group/kick"),headers:Object(S.a)({},G()),data:{groupId:t,userId:n}})},Ie=function(e){var t=e.ownerEmail;return me(be.post)({path:F("/group/search-by-email"),headers:Object(S.a)({},G()),data:{ownerEmail:t}})},Be=function(e){var t=e.groupName;return me(be.post)({path:F("/group/search-by-name"),headers:Object(S.a)({},G()),data:{groupName:t}})},Re=function(){var e=Object(c.useRef)(!0),t=(Object(l.useAtom)(W),Object(l.useAtom)(ie));Object(c.useEffect)((function(){return function(){e.current=!1}}),[]),Object(c.useEffect)((function(){e.current&&(ve(!0),Ne().then(function(){var e=Object(T.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,e.next=3,ae(n.user);case 3:return e.next=5,ue(n.groupsList);case 5:if(!n.groupOwnage){e.next=8;break}return e.next=8,ee(n.groupOwnage);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){e.status===_.BAD_REQUEST&&alert(e.message)})).finally((function(){ve(!1)})))}),[]);return Object(w.jsx)(Se,{handleGroupCreate:function(e,n){ve(!0),function(e){var t=e.groupName,n=e.password;return me(be.post)({path:F("/group/create"),headers:Object(S.a)({},G()),data:{groupName:t,password:n}})}({groupName:e,password:n}).then(function(){var e=Object(T.a)(C.a.mark((function e(n){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.code,n.message,a=n.data,console.log(a),e.next=4,ue([].concat(Object(ye.a)(t),[a.group]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){return g("/panel/browse")})).catch((function(e){e.status===_.BAD_REQUEST&&alert(e.message)})).finally((function(){ve(!1)}))}})},De=function(){var e=Object(c.useState)('{\n        "method": "POST",\n        "url": "http://localhost:3000/v1/xxx",\n        "headers": {\n            "Authorization": "Bearer 123"\n        },\n        "data": {\n            "x": "345"\n        }\n    }'),t=Object(E.a)(e,2),n=t[0],a=t[1],r=function(){var e=Object(T.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe()(Object(S.a)({},JSON.parse(n))).catch((function(e){console.log(e.response),console.log(e.message)}));case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsxs)(I.a,{fluid:!0,children:["Landing head",Object(w.jsxs)(B.a.Item,{as:"a",onClick:function(){return g("/auth/register")},children:[Object(w.jsx)(k.a,{name:"lock"}),"Register"]}),Object(w.jsxs)(B.a.Item,{as:"a",onClick:function(){return g("/auth/login")},children:[Object(w.jsx)(k.a,{name:"lock"}),"Login"]}),Object(w.jsxs)(I.a,{fluid:!0,children:["Request object",Object(w.jsx)("textarea",{style:{width:"60%",height:"30%"},value:n,onChange:function(e){return a(e.currentTarget.value)}}),Object(w.jsx)(A.a,{active:!0,onClick:function(){return r()},children:"Fetch"})]})]})},Ue=function(){return Object(w.jsx)(w.Fragment,{})},Me=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(De,{}),Object(w.jsx)(Ue,{})]})},Pe=n(229),Ge=n(228),Fe=n(224),Qe=n(225),We=n(211),ze=n(226),Je=l.Atom.of("/"),Le=function(e){Object(z.swap)(Je,(function(t){return e}))},Ke=n(95),Xe=function(e){var t=e.id,n=e.options;return Object(w.jsx)(Ke.b,{id:t,children:n.map((function(e){var t=e.text,n=e.action;return Object(w.jsx)(Ke.a,{onClick:n,children:t})}))})},He=(n(205),n(38)),Ze=n.n(He),Ve=function(e){var t=e.iconName,n=e.entityText,a=e.entityTextAlt,r=e.onClick,c=e.onContextMenu,s=e.type;return Object(w.jsx)("div",{className:"big"===s?Ze.a.entityBig:Ze.a.entitySmall,onClick:r,onContextMenu:c,children:Object(w.jsxs)(I.a,{className:Ze.a.containerStyled,children:[Object(w.jsx)(Fe.a,{className:Ze.a.rowTop,children:Object(w.jsx)(Qe.a,{className:Ze.a.colTopStyled,children:Object(w.jsx)(k.a,{size:"big"===s?"massive":"huge",name:t,className:Ze.a.iconTopStyled})})}),Object(w.jsxs)(Fe.a,{className:Ze.a.rowBot,children:[Object(w.jsx)(k.a,{size:"big"===s?"large":"small",name:t,className:Ze.a.iconBotStyled,style:{display:"big"===s?"block":"none"}}),Object(w.jsxs)(Qe.a,{className:Ze.a.colBotStyled,children:[Object(w.jsx)("p",{className:Ze.a.pStyled,children:n}),Object(w.jsx)("p",{children:a||""})]})]})]})})},Ye=function(e){var t=e.idx,n=e.menuOptions,a=e.onClick,r=e.onContextMenu,c=e.iconName,s=e.type,o=e.entityText,i=e.entityTextAlt,u="menuId_".concat(t),l=Object(Ke.c)({id:u}).show;return Object(w.jsx)(w.Fragment,{children:"big"===s?Object(w.jsxs)(Qe.a,{xs:10,sm:8,md:6,lg:5,xl:4,children:[Object(w.jsx)(Ve,{iconName:c,entityText:o,onClick:a,onContextMenu:function(e){return r(e,l)},entityTextAlt:i||"",type:s}),Object(w.jsx)(Xe,{id:u,options:n})]}):"small"===s?Object(w.jsx)(Qe.a,{xs:16,md:6,style:{margin:"10px"},children:Object(w.jsx)(Ve,{iconName:c,entityText:o,onClick:a,onContextMenu:function(e){return r(e,l)},entityTextAlt:i||"",type:s})}):null})},qe=n(63),$e=n.n(qe),et=function(e){var t=e.currentPathContent,n=e.currentGroupInfo,a=(e.profileInfo,e.groupOwnage,e.onClickFolder),r=e.onClickFile,s=e.onContextMenu,o=e.path,i=e.handleDownload,u=e.handleRenameFile,l=e.handleRenameFolder,p=e.handleDeteleFile,d=e.handleDeteleFolder,f=e.handleGroupKick,j=Object(c.useRef)(!0),b=function(e){return[{text:"rename",action:function(){return l(e)}},{text:"delete",action:function(){return d(e)}}]},h=function(e){return[{text:"download",action:function(){return i(e)}},{text:"rename",action:function(){return u(e)}},{text:"delete",action:function(){return p(e)}}]};Object(c.useEffect)((function(){return function(){j.current=!1}}),[]);for(var m=t.folders.map((function(e,t){return Object(w.jsx)(Ye,{idx:t,menuOptions:b(t),onClick:function(t){return a(t,e)},onContextMenu:s,iconName:"folder open",type:"big",entityText:e})})),O=t.files.map((function(e,t){return Object(w.jsx)(Ye,{idx:t,menuOptions:h(t),onClick:function(t){return r(t,e)},onContextMenu:s,iconName:"file",type:"big",entityText:e})})),g=[],x=0,_=0;_<o.length;_++)"/"===o[_]&&(g.push({path:0===_?"/":o.slice(0,_),btnText:0===_?"/home":o.slice(x,_)}),x=_);g.push({path:o.slice(0),btnText:o.slice(x)});var v=g.map((function(e,t){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(We.a,{basic:!0,color:"grey",onClick:function(){Le("".concat(g[t].path))},children:g[t].btnText}),">"]})}));return Object(w.jsxs)(I.a,{fluid:!0,className:$e.a.containerStyled,children:[Object(w.jsx)(Fe.a,{className:$e.a.rowTopStyled,children:Object(w.jsx)(Qe.a,{xs:16,children:Object(w.jsx)("h1",{style:{paddingLeft:"5px"},children:"File Manager"})})}),Object(w.jsx)("hr",{className:$e.a.hrStyled}),Object(w.jsx)(Fe.a,{className:$e.a.rowTopStyled,children:Object(w.jsx)(Qe.a,{xs:16,children:Object(w.jsxs)("div",{className:$e.a.divNavStyled,children:[Object(w.jsx)(Qe.a,{children:Object(w.jsx)("p",{children:v})}),Object(w.jsx)(Qe.a,{xs:2,style:{display:"flex",justifyContent:"end",marginRight:"10px"},children:Object(w.jsx)(B.a,{icon:!0,vertical:!0,children:Object(w.jsx)(ze.a,{direction:"left",pointing:"left",item:!0,placeholder:"\ud83d\udc65",children:Object(w.jsx)(ze.a.Menu,{children:n.groupParticipants.map((function(e){return Object(w.jsxs)(ze.a.Item,{onClick:function(){return f(e)},children:[Object(w.jsx)(k.a,{name:"trash"}),e.name||e.email]})}))})})})})]})})}),Object(w.jsx)("hr",{className:$e.a.hrStyled}),Object(w.jsxs)(Fe.a,{className:$e.a.rowBotStyled,children:[m,O]})]})},tt=n(16),nt=n.n(tt),at=n(158),rt=n.p+"static/media/avatar.8e7d93ca.png",ct=n(49),st=n.n(ct),ot=function(e){var t=e.toggleSidebar,n=Object(c.useRef)(!0),a=Object(l.useAtom)(ne);Object(c.useEffect)((function(){return function(){n.current=!1}}),[]);var r=function(){var e=Object(T.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.current){e.next=7;break}return ve(!0),e.next=4,me(be.delete)({path:F("/access/logout"),headers:Object(S.a)({},G())}).catch((function(e){e.status===_.BAD_REQUEST&&alert(e.message)}));case 4:le(),J(null,null),g("/auth"),ve(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsx)(I.a,{fluid:!0,className:st.a.panelHeader,children:Object(w.jsxs)(Fe.a,{className:st.a.row,children:[Object(w.jsx)(Qe.a,{xs:6,sm:3,md:2,className:st.a.col,children:Object(w.jsx)(at.a,{src:"data:image/png;base64,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",className:st.a.imgStyled,onClick:function(){return g("/panel")}})}),Object(w.jsx)(Qe.a,{xs:1,className:st.a.col,children:Object(w.jsx)(k.a,{link:!0,size:"large",name:"bars",onClick:t})}),Object(w.jsx)(Qe.a,{}),Object(w.jsxs)(Qe.a,{xs:7,sm:6,md:5,lg:4,xl:3,className:nt()(st.a.col,st.a.right),children:[Object(w.jsx)(k.a,{link:!0,name:"bell",color:"grey",inverted:!0}),Object(w.jsx)(at.a,{src:rt,size:"mini"}),Object(w.jsx)("p",{className:st.a.pStyled,children:(null===a||void 0===a?void 0:a.email)||"profile"}),Object(w.jsx)(ze.a,{direction:"left",closeOnChange:!0,children:Object(w.jsxs)(ze.a.Menu,{children:[Object(w.jsx)(ze.a.Item,{text:"Settings",onClick:function(){return g("/panel/settings")}}),Object(w.jsx)(ze.a.Item,{text:"Logout",onClick:r})]})})]})]})})},it=n(31),ut=n.n(it),lt=function(e){var t=e.storageInfo,n=e.groupOwnage,a=e.currentGroupInfo,r=e.selectGroupOptions,c=e.handleChange,s=e.handleUpload,o=e.handleCreateFolder;return Object(w.jsxs)(I.a,{className:ut.a.containerCustom,children:[Object(w.jsxs)("div",{className:ut.a.wrapTop,children:[Object(w.jsx)(Fe.a,{children:Object(w.jsxs)(Qe.a,{className:ut.a.col,children:[Object(w.jsx)("input",{type:"file",onChange:s,style:{width:"10px !important",position:"absolute",right:"55%",opacity:0},multiple:!0}),Object(w.jsx)(k.a,{link:!0,size:"big",name:"cloud upload"}),Object(w.jsxs)(k.a.Group,{size:"large",onClick:o,children:[Object(w.jsx)(k.a,{link:!0,size:"large",name:"folder"}),Object(w.jsx)(k.a,{size:"small",corner:!0,inverted:!0,color:"grey",name:"add"})]})]})}),Object(w.jsx)("hr",{className:ut.a.hrStyled}),Object(w.jsx)(Fe.a,{children:Object(w.jsx)(Qe.a,{children:Object(w.jsxs)(B.a,{secondary:!0,vertical:!0,children:[Object(w.jsxs)(B.a.Item,{as:"a",onClick:function(){return g("/panel/browse")},children:[Object(w.jsx)(k.a,{name:"file"}),"File Manager"]}),Object(w.jsxs)(B.a.Item,{as:"a",onClick:function(){return g("/panel/search")},children:[Object(w.jsx)(k.a,{name:"search"}),"Spaces search"]}),Object(w.jsxs)(B.a.Item,{as:"a",onClick:function(){return g("/panel/privelege")},children:[Object(w.jsx)(k.a,{name:"money"}),"Privelege"]})]})})})]}),Object(w.jsxs)("div",{className:ut.a.wrapBot,children:[Object(w.jsx)("hr",{className:ut.a.hrStyled}),Object(w.jsx)(Fe.a,{children:Object(w.jsxs)(Qe.a,{className:ut.a.col,children:[Object(w.jsx)(k.a,{size:"big",name:"server",className:ut.a.iFix}),Object(w.jsx)("p",{children:t?"".concat(Math.round(t.sizeUsed)," MB of ").concat(Math.round(t.sizeMax)," MB used"):"Please, select group or join one!"})]})}),Object(w.jsx)("hr",{className:ut.a.hrStyled}),Object(w.jsx)(Fe.a,{children:Object(w.jsxs)(Qe.a,{className:nt()(ut.a.col,ut.a.groupBot),children:[Object(w.jsx)("span",{className:ut.a.groupInfo,children:Object(w.jsx)("p",{className:ut.a.pStyled,children:"Current Group"})}),n&&a&&n.id===a.id&&"You own this group",Object(w.jsx)(ze.a,{placeholder:"Select group",upward:!0,floating:!0,options:r,onChange:c,value:a?a.id:void 0})]})})]})]})},pt=function(e){var t=e.handleBuy100,n=e.handleBuy500;return Object(w.jsxs)(I.a,{children:[Object(w.jsx)(We.a,{active:!0,onClick:function(){return t()},children:"Buy 100"}),Object(w.jsx)(We.a,{active:!0,onClick:function(){return n()},children:"Buy 500"})]})},dt=n(19),ft=n.n(dt),jt=function(e){var t=e.handleGroupSearch,n=e.handleGroupJoin,a=e.groupsFound,r=Object(c.useRef)(!0),s=Object(c.useState)(""),o=Object(E.a)(s,2),i=o[0],u=o[1],l=Object(c.useState)(""),p=Object(E.a)(l,2),d=p[0],f=p[1],j=Object(c.useState)(null),b=Object(E.a)(j,2),h=b[0],m=b[1],O=a.map((function(e,t){var n=e.ownerId,a=e.ownerName,r=e.ownerEmail,c=e.groupId,s=e.groupName;return Object(w.jsx)(Ye,{idx:t,menuOptions:[],onClick:function(){return m({ownerId:n,ownerName:a,ownerEmail:r,groupId:c,groupName:s})},onContextMenu:function(){},iconName:"folder open",type:"small",entityText:"Group name: ".concat(s),entityTextAlt:"Owner info: ".concat(r||"-")})}));return Object(w.jsx)(I.a,{fluid:!0,className:nt()(ft.a.fullSize,ft.a.scroll),children:Object(w.jsxs)(Fe.a,{className:nt()(ft.a.fullSize,ft.a.settingsBlocksWrap),children:[Object(w.jsx)(Qe.a,{xs:13,lg:7,className:nt()(ft.a.settingsBlockLeft),children:Object(w.jsxs)("form",{className:ft.a.formStyled,children:[Object(w.jsx)(Fe.a,{className:ft.a.rowSideTop,children:"Search for spaces"}),Object(w.jsxs)(Fe.a,{className:ft.a.rowMiddle,children:[Object(w.jsx)(Fe.a,{className:ft.a.fieldWrap,children:Object(w.jsx)(R.a,{label:"Group name",value:i,onChange:function(e){f(""),u(e.currentTarget.value)},className:ft.a.Input})}),Object(w.jsx)("p",{style:{paddingLeft:"15px",fontSize:"0.8rem"},children:"OR"}),Object(w.jsx)(Fe.a,{className:ft.a.fieldWrap,children:Object(w.jsx)(R.a,{label:"User email",value:d,onChange:function(e){u(""),f(e.currentTarget.value)},className:ft.a.Input})})]}),Object(w.jsx)(Fe.a,{className:ft.a.rowSideBot,children:Object(w.jsx)(A.a,{active:!0,className:ft.a.btn,onClick:function(){return r.current&&t(i,d)},children:"Search"})})]})}),Object(w.jsx)(Qe.a,{xs:13,lg:7,className:nt()(ft.a.settingsBlockRight),children:Object(w.jsxs)("form",{style:{width:"100%",height:"100%",overflow:"hidden",paddingLeft:"10px",paddingRight:"10px"},children:[Object(w.jsx)(Fe.a,{className:ft.a.rowSideTop,children:"Results"}),Object(w.jsx)(Fe.a,{className:ft.a.rowMiddle,children:Object(w.jsx)(Fe.a,{className:ft.a.fieldWrap,children:O})}),Object(w.jsx)(Fe.a,{className:ft.a.rowSideBot,children:Object(w.jsx)(A.a,{active:!0,className:ft.a.btn,onClick:Object(T.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(h);case 1:case"end":return e.stop()}}),e)}))),children:"Join"})})]})})]})})},bt=n(15),ht=n.n(bt),mt=function(e){var t=e.handleChnagePasswordAcc,n=e.handleChnagePasswordGroup,a=Object(c.useRef)(!0),r=Object(c.useState)(""),s=Object(E.a)(r,2),o=s[0],i=s[1],u=Object(c.useState)(""),l=Object(E.a)(u,2),p=l[0],d=l[1],f=Object(c.useState)(""),j=Object(E.a)(f,2),b=j[0],h=j[1],m=Object(c.useState)(""),O=Object(E.a)(m,2),g=O[0],x=O[1],_=Object(c.useState)(""),v=Object(E.a)(_,2),k=v[0],y=v[1],S=Object(c.useState)(""),N=Object(E.a)(S,2),B=N[0],D=N[1];return Object(w.jsx)(I.a,{fluid:!0,className:nt()(ht.a.fullSize,ht.a.scroll),children:Object(w.jsxs)(Fe.a,{className:nt()(ht.a.fullSize,ht.a.settingsBlocksWrap),children:[Object(w.jsx)(Qe.a,{xs:13,lg:7,className:nt()(ht.a.settingsBlock),children:Object(w.jsxs)("form",{className:ht.a.formStyled,children:[Object(w.jsx)(Fe.a,{className:ht.a.rowSideTop,children:"Change Account Password"}),Object(w.jsxs)(Fe.a,{className:ht.a.rowMiddle,children:[Object(w.jsx)(Fe.a,{className:ht.a.fieldWrap,children:Object(w.jsx)(R.a,{label:"Old password",value:o,onChange:function(e){return a.current&&i(e.currentTarget.value)},type:"password",className:ht.a.Input})}),Object(w.jsx)(Fe.a,{className:ht.a.fieldWrap,children:Object(w.jsx)(R.a,{label:"New password",value:p,onChange:function(e){return a.current&&d(e.currentTarget.value)},type:"password",className:ht.a.Input})}),Object(w.jsx)(Fe.a,{className:ht.a.fieldWrap,children:Object(w.jsx)(R.a,{label:"Repeat password",value:b,onChange:function(e){return a.current&&h(e.currentTarget.value)},type:"password",className:ht.a.Input})})]}),Object(w.jsx)(Fe.a,{className:ht.a.rowSideBot,children:Object(w.jsx)(A.a,{active:!0,className:ht.a.btn,onClick:Object(T.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p!==b){e.next=5;break}return e.next=3,t(o,p);case 3:e.next=6;break;case 5:alert("Passwords do not match each other!");case 6:a.current&&(i(""),d(""),h(""));case 7:case"end":return e.stop()}}),e)}))),children:"Change"})})]})}),Object(w.jsx)(Qe.a,{xs:13,lg:7,className:nt()(ht.a.settingsBlock),children:Object(w.jsxs)("form",{style:{width:"100%",height:"100%",overflow:"hidden",paddingLeft:"10px",paddingRight:"10px"},children:[Object(w.jsx)(Fe.a,{className:ht.a.rowSideTop,children:"Change Group Password"}),Object(w.jsxs)(Fe.a,{className:ht.a.rowMiddle,children:[Object(w.jsx)(Fe.a,{className:ht.a.fieldWrap,children:Object(w.jsx)(R.a,{label:"Old password",value:g,onChange:function(e){return a.current&&x(e.currentTarget.value)},type:"password",className:ht.a.Input})}),Object(w.jsx)(Fe.a,{className:ht.a.fieldWrap,children:Object(w.jsx)(R.a,{label:"New password",value:k,onChange:function(e){return a.current&&y(e.currentTarget.value)},type:"password",className:ht.a.Input})}),Object(w.jsx)(Fe.a,{className:ht.a.fieldWrap,children:Object(w.jsx)(R.a,{label:"Repeat password",value:B,onChange:function(e){return a.current&&D(e.currentTarget.value)},type:"password",className:ht.a.Input})})]}),Object(w.jsx)(Fe.a,{className:ht.a.rowSideBot,children:Object(w.jsx)(A.a,{active:!0,className:ht.a.btn,onClick:Object(T.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k!==B){e.next=5;break}return e.next=3,n(g,k);case 3:e.next=6;break;case 5:alert("Passwords do not match each other!");case 6:a.current&&(x(""),y(""),D(""));case 7:case"end":return e.stop()}}),e)}))),children:"Change"})})]})})]})})},Ot=l.Atom.of(!0),gt=function(){Object(z.swap)(Ot,(function(e){return!e}))},xt=n(120),_t=n.n(xt),wt=function(e){var t=e.groupId,n=e.path;return me(be.delete)({path:F("/fs/delete-file-folder","".concat(t,"-").concat(n)),headers:Object(S.a)({},G())})},vt=function(e){var t=e.groupId,n=e.path,a=e.filename,r=F("/fs/download-file","".concat(t,"-").concat(n,"-").concat(a));return me(be.get)({path:r,headers:Object(S.a)({},G()),extra:{responseType:"arraybuffer"}})},kt=function(e){var t=e.groupId,n=e.path,a=e.filename;return me(be.patch)({path:F("/fs/rename-file-folder","".concat(t,"-").concat(n,"-").concat(a)),headers:Object(S.a)({},G()),data:{}})},yt=function(){var e=Object(c.useRef)(!0),t=Object(l.useAtom)(V),n=Object(l.useAtom)(Je),a=Object(l.useAtom)(Ot),r=Object(l.useAtom)($),s=Object(l.useAtom)(ne),o=Object(c.useState)({files:[],folders:[]}),i=Object(E.a)(o,2),u=i[0],p=i[1];Object(c.useEffect)((function(){return function(){e.current=!1}}),[]),Object(c.useEffect)((function(){e.current&&t&&Le("/")}),[t]),Object(c.useEffect)((function(){e.current&&t&&t.id&&(ve(!0),function(e){var t=e.groupId,n=e.path;return me(be.get)({path:F("/fs/browse-folder","".concat(t,"-").concat(n)),headers:Object(S.a)({},G())})}({groupId:t.id,path:n}).then((function(e){var t=e.data;p(Object(S.a)({},t))})).catch((function(e){[_.BAD_REQUEST,_.FORBIDDEN].includes(e.status)})).finally((function(){ve(!1)})))}),[n,t,a]);var d=function(){var t=Object(T.a)(C.a.mark((function t(n,a){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),e.current){t.next=3;break}return t.abrupt("return");case 3:a(n);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),f=function(){var a=Object(T.a)(C.a.mark((function a(r){var c,s;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.current&&t){a.next=2;break}return a.abrupt("return");case 2:if(c=u.files[r],s=prompt("Enter new name")){a.next=6;break}return a.abrupt("return");case 6:ve(!0),kt({groupId:t.id,path:"".concat(n,"/").concat(c),filename:"".concat(n,"/").concat(s)}).then(gt).catch((function(e){e.status===_.BAD_REQUEST&&alert(e.message)})).finally((function(){ve(!1)}));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),j=function(){var a=Object(T.a)(C.a.mark((function a(r){var c,s;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.current&&t){a.next=2;break}return a.abrupt("return");case 2:if(c=u.folders[r],s=prompt("Enter new name")){a.next=6;break}return a.abrupt("return");case 6:ve(!0),kt({groupId:t.id,path:"".concat(n,"/").concat(c),filename:"".concat(n,"/").concat(s)}).then(gt).catch((function(e){e.status===_.BAD_REQUEST&&alert(e.message)})).finally((function(){ve(!1)}));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),b=function(){var a=Object(T.a)(C.a.mark((function a(r){var c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.current&&t){a.next=2;break}return a.abrupt("return");case 2:c=u.files[r],ve(!0),wt({groupId:t.id,path:"".concat(n,"/").concat(c)}).then(gt).catch((function(e){e.status===_.BAD_REQUEST&&alert(e.message)})).finally((function(){ve(!1)}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),h=function(){var a=Object(T.a)(C.a.mark((function a(r){var c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.current&&t){a.next=2;break}return a.abrupt("return");case 2:c=u.folders[r],ve(!0),wt({groupId:t.id,path:"".concat(n,"/").concat(c)}).then(gt).catch((function(e){e.status===_.BAD_REQUEST&&alert(e.message)})).finally((function(){ve(!1)}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),m=function(){var a=Object(T.a)(C.a.mark((function a(r){var c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.current&&t){a.next=2;break}return a.abrupt("return");case 2:c=u.files[r],ve(!0),vt({groupId:t.id,path:n,filename:c}).then((function(e){var t=new Blob([e],{type:_t.a.contentType(c)}),n=document.createElement("a"),a=window.URL.createObjectURL(t);n.href=a,n.download=c,n.click(),URL.revokeObjectURL(n.href)})).catch((function(e){e.status===_.BAD_REQUEST&&alert(e.message)})).finally((function(){ve(!1)}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),O=function(){var n=Object(T.a)(C.a.mark((function n(a){return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.current&&t){n.next=2;break}return n.abrupt("return");case 2:return ve(!0),n.next=5,Ae({groupId:t.id,userId:a.id}).then((function(e){alert(e.message)})).then(gt).catch((function(e){e.status===_.BAD_REQUEST&&alert(e.message)}));case 5:n.sent,ve(!1);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(w.jsx)(w.Fragment,{children:t?Object(w.jsx)(et,{currentPathContent:u,currentGroupInfo:t,groupOwnage:r,profileInfo:s,onClickFolder:function(t,a){t.preventDefault(),e.current&&Le(n+"".concat("/"===n?"":"/").concat(a))},onClickFile:function(e,t){e.preventDefault(),alert("This is file, can't do anything here")},onContextMenu:d,path:n,handleDownload:m,handleRenameFile:f,handleRenameFolder:j,handleDeteleFile:b,handleDeteleFolder:h,handleGroupKick:O}):Object(w.jsx)("p",{children:"PLEASE CHOOSE GROUP TO START WORKING!"})})},St=function(e){var t=e.visible,n=e.direction,a=e.animation,r=e.closeSidebar,s=e.mainContentRef,o=Object(c.useRef)(!0),i=Object(l.useAtom)($),u=Object(l.useAtom)(ie),p=Object(l.useAtom)(ce),d=Object(l.useAtom)(V),f=Object(l.useAtom)(Je);Object(c.useEffect)((function(){return function(){o.current=!1}}),[]);var j=[];u&&(j=u.map((function(e){return{key:e.id,text:e.name,value:e.id}})));var b=function(){var e=Object(T.a)(C.a.mark((function e(t,n){var a,r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.value,r=u.filter((function(e){return e.id===a})),!o.current||!r||0===r.length){e.next=12;break}return ve(!0),e.next=6,Ce({id:r[0].id}).catch((function(e){e.status===_.BAD_REQUEST&&alert(e.message)}));case 6:if(c=e.sent,ve(!1),c&&c.data&&o.current){e.next=10;break}return e.abrupt("return");case 10:Y({id:c.data.groupInfo.id,name:c.data.groupInfo.name,groupParticipants:c.data.groupParticipants}),gt();case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(w.jsx)(Pe.a,{visible:t,direction:n,animation:a,onHide:r,target:s,children:Object(w.jsx)(lt,{storageInfo:p,groupOwnage:i,currentGroupInfo:d,selectGroupOptions:j,handleChange:b,handleUpload:function(e){if(d){var t=e.currentTarget.files[0];ve(!0),function(e){var t=e.groupId,n=e.path,a=e.filename,r=e.data;return me(be.post)({path:F("/fs/upload-file","".concat(t,"-").concat(n,"-").concat(a)),headers:Object(S.a)(Object(S.a)({},G()),{},{"Content-Type":_t.a.contentType(a)||pe["Content-Type"]}),data:r})}({groupId:d.id,path:f,filename:t.name,data:t}).then(gt).catch((function(e){e.status===_.BAD_REQUEST&&alert(e.message)})).finally((function(){ve(!1)}))}},handleCreateFolder:function(){if(d){var e=prompt("Enter folder name");e&&(ve(!0),function(e){var t=e.groupId,n=e.path,a=e.filename;return me(be.put)({path:F("/fs/create-folder","".concat(t,"-").concat(n,"-").concat(a)),headers:Object(S.a)({},G()),data:{}})}({groupId:d.id,path:f,filename:e}).then(gt).catch((function(e){e.status===_.BAD_REQUEST&&alert(e.message)})).finally((function(){ve(!1)})))}}})})},Nt=function(){var e=Object(c.useRef)(!0),t=function(){var t=Object(T.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.current){t.next=2;break}return t.abrupt("return");case 2:return ve(!0),t.next=5,me(he.post)({path:F("/services/payment/add100"),headers:Object(S.a)({},G()),data:{}}).catch((function(e){[_.BAD_REQUEST,_.FORBIDDEN].includes(e.status)&&alert(e.message)}));case 5:if(n=t.sent,ve(!1),n){t.next=9;break}return t.abrupt("return");case 9:alert(n.message),gt();case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(T.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.current){t.next=2;break}return t.abrupt("return");case 2:return ve(!0),t.next=5,me(he.post)({path:F("/services/payment/add500"),headers:Object(S.a)({},G()),data:{}}).catch((function(e){[_.BAD_REQUEST,_.FORBIDDEN].includes(e.status)&&alert(e.message)}));case 5:if(n=t.sent,ve(!1),n){t.next=9;break}return t.abrupt("return");case 9:alert(n.message),gt();case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(w.jsx)(pt,{handleBuy100:t,handleBuy500:n})},Ct=function(){var e=Object(c.useRef)(!0),t=Object(c.useState)([]),n=Object(E.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){return function(){e.current=!1}}),[]);var s=function(){var t=Object(T.a)(C.a.mark((function t(n,a){var c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.current){t.next=16;break}if(ve(!0),!n){t.next=8;break}return t.next=5,Be({groupName:n}).catch((function(e){e.status===_.BAD_REQUEST&&alert(e.message)}));case 5:c=t.sent,t.next=11;break;case 8:return t.next=10,Ie({ownerEmail:a}).catch((function(e){e.status===_.BAD_REQUEST&&alert(e.message)}));case 10:c=t.sent;case 11:if(ve(!1),c){t.next=14;break}return t.abrupt("return");case 14:return t.next=16,r(c.data);case 16:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),o=function(){var t=Object(T.a)(C.a.mark((function t(n){var a,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.ownerId,a=n.groupId,n.groupName,r=prompt("Enter group password"),e.current&&r){t.next=4;break}return t.abrupt("return");case 4:return ve(!0),t.next=7,Ee({groupId:a,password:r}).then(gt).catch((function(e){e.status===_.BAD_REQUEST&&alert(e.message)}));case 7:ve(!1);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsx)(jt,{handleGroupSearch:s,handleGroupJoin:o,groupsFound:a})},Tt=function(){var e=Object(c.useRef)(!0),t=function(){var t=Object(T.a)(C.a.mark((function t(n,a){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.current){t.next=2;break}return t.abrupt("return");case 2:return ve(!0),t.next=5,Oe({oldPassword:n,newPassword:a}).catch((function(e){[_.BAD_REQUEST,_.FORBIDDEN].includes(e.status)&&alert(e.message)}));case 5:if(r=t.sent,gt(),ve(!1),r&&e.current){t.next=10;break}return t.abrupt("return");case 10:alert(r.message);case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),n=function(){var t=Object(T.a)(C.a.mark((function t(n,a){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.current){t.next=2;break}return t.abrupt("return");case 2:return ve(!0),t.next=5,Te({oldPassword:n,newPassword:a}).catch((function(e){[_.BAD_REQUEST,_.FORBIDDEN].includes(e.status)&&alert(e.message)}));case 5:if(r=t.sent,gt(),ve(!1),r&&e.current){t.next=10;break}return t.abrupt("return");case 10:alert(r.message);case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(w.jsx)(mt,{handleChnagePasswordAcc:t,handleChnagePasswordGroup:n})},Et=function(){var e=Object(c.useRef)(!0),t=Object(c.useState)({dimmed:!1,visible:!1,animation:"overlay",direction:"left"}),n=Object(E.a)(t,2),a=n[0],r=n[1],s=a.dimmed,o=a.visible,i=a.animation,p=a.direction,d=Object(l.useAtom)(Ot),f=(Object(l.useAtom)(W),Object(l.useAtom)(V)),j=Object(c.useRef)(null);Object(c.useEffect)((function(){return function(){e.current=!1}}),[]),Object(c.useEffect)((function(){e.current&&(ve(!0),Ne().then(function(){var e=Object(T.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.code,t.message,n=t.data,console.log(n),e.next=4,ae(n.user);case 4:return e.next=6,ue(n.groupsList);case 6:if(!n.groupOwnage){e.next=9;break}return e.next=9,ee(n.groupOwnage);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){e.code;var t=e.message;e.status;console.warn(t)})).finally((function(){ve(!1)})))}),[d]),Object(c.useEffect)((function(){e.current&&f&&(ve(!0),Ce({id:f.id}).then(function(){var e=Object(T.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.code,t.message,n=t.data,Y({id:n.groupInfo.id,name:n.groupInfo.name,groupParticipants:n.groupParticipants});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){e.status===_.BAD_REQUEST&&alert(e.message)})).finally((function(){ve(!1)})))}),[]),Object(c.useEffect)((function(){e.current&&f&&(ve(!0),Ce({id:f.id}).then(function(){var e=Object(T.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.code,t.message,n=t.data,se(n.storageInfo);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){e.status===_.BAD_REQUEST&&alert(e.message)})).finally((function(){ve(!1)})))}),[d]);var b=function(){var t=Object(T.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.current&&a.dimmed&&a.visible)){t.next=3;break}return t.next=3,r((function(e){return Object(S.a)(Object(S.a)({},e),{},{dimmed:!1,visible:!1})}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(T.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.current){t.next=3;break}return t.next=3,r((function(e){return Object(S.a)(Object(S.a)({},e),{},{dimmed:!e.dimmed,visible:!e.visible})}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(ot,{toggleSidebar:h}),Object(w.jsxs)(Pe.a.Pushable,{style:{overflow:"visible",height:"calc(100% - 65px)"},children:[Object(w.jsx)(St,{visible:o,animation:i,direction:p,closeSidebar:b,mainContentRef:j}),Object(w.jsx)(Ge.a,{innerRef:j,children:Object(w.jsx)(Pe.a.Pusher,{dimmed:s,style:{width:s?"90%":"100%",height:"100%",float:"right",transition:"width 0.5s"},children:Object(w.jsxs)(u.c,{children:[Object(w.jsx)(u.a,{exact:!0,path:"/panel",component:yt}),Object(w.jsx)(u.a,{exact:!0,path:"/panel/browse",component:yt}),Object(w.jsx)(u.a,{exact:!0,path:"/panel/search",component:Ct}),Object(w.jsx)(u.a,{exact:!0,path:"/panel/privelege",component:Nt}),Object(w.jsx)(u.a,{exact:!0,path:"/panel/settings",component:Tt}),Object(w.jsx)(u.a,{path:"/panel",component:v})]})})})]})]})},At=(n(209),Object(r.a)());i.a.render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsxs)(u.b,{history:At,children:[Object(w.jsx)(O,{}),Object(w.jsx)(u.c,{children:Object(w.jsx)(u.a,{path:"/",component:function(){var e=Object(l.useAtom)(ie),t=Object(l.useAtom)(W),n=Object(l.useAtom)(we);return Object(w.jsxs)("div",{className:d.a.App,children:[n?Object(w.jsx)(y,{}):null,Object(w.jsxs)(u.c,{children:[Object(w.jsx)(u.a,{exact:!0,path:"/",component:Me}),Object(w.jsx)(u.a,{path:"/auth",component:ke}),t&&t.accessToken&&t.refreshToken&&Object(w.jsx)(u.a,{path:"/panel",component:e&&e.length?Et:Re}),Object(w.jsx)(u.a,{path:"/",component:v})]})]})}})})]})}),document.getElementById("root"))},31:function(e,t,n){e.exports={root:"panel-navigation_root__2Onz5",ui:"panel-navigation_ui__1770U",segment:"panel-navigation_segment__1X47s",image:"panel-navigation_image__1yVna",mini:"panel-navigation_mini__2TUdc",dropdown:"panel-navigation_dropdown__2hBm4",floating:"panel-navigation_floating__1nOpn",menu:"panel-navigation_menu__2Y_y3",item:"panel-navigation_item__396yN",button:"panel-navigation_button__nshwb",container:"panel-navigation_container__2rA6Q","container-fluid":"panel-navigation_container-fluid__3nut-",navbar:"panel-navigation_navbar__2F7ts",containerCustom:"panel-navigation_containerCustom__36ZMD",col:"panel-navigation_col__2Zwje",hrStyled:"panel-navigation_hrStyled__teZtl",wrapBot:"panel-navigation_wrapBot__N7a64",groupBot:"panel-navigation_groupBot__13vmo",pStyled:"panel-navigation_pStyled__2uOa-"}},38:function(e,t,n){e.exports={root:"panel-entity-view_root__1wuI7",ui:"panel-entity-view_ui__10HbF",segment:"panel-entity-view_segment__3nRVl",image:"panel-entity-view_image__1DrNm",mini:"panel-entity-view_mini__3UTpm",dropdown:"panel-entity-view_dropdown__1kgcB",floating:"panel-entity-view_floating__1S2yK",menu:"panel-entity-view_menu__qgiiJ",item:"panel-entity-view_item__3_yln",button:"panel-entity-view_button__VTXWB",container:"panel-entity-view_container__3cOGf","container-fluid":"panel-entity-view_container-fluid__2wNgN",entityBig:"panel-entity-view_entityBig__PI3Jt",containerStyled:"panel-entity-view_containerStyled__2KPrv",rowTop:"panel-entity-view_rowTop__2g7cE",colTopStyled:"panel-entity-view_colTopStyled__2J_Yd",rowBot:"panel-entity-view_rowBot__2TP5d",iconBotStyled:"panel-entity-view_iconBotStyled__1MXHS",colBotStyled:"panel-entity-view_colBotStyled__3IflU",pStyled:"panel-entity-view_pStyled__3t99p",entitySmall:"panel-entity-view_entitySmall___MxqP"}},49:function(e,t,n){e.exports={root:"panel-header_root__p29ZL",ui:"panel-header_ui__1noJx",segment:"panel-header_segment__bgGP9",image:"panel-header_image__38eKb",mini:"panel-header_mini__NYMe1",dropdown:"panel-header_dropdown__3PF-k",floating:"panel-header_floating__2Nd0x",menu:"panel-header_menu__vHAvg",item:"panel-header_item__2Ry-r",button:"panel-header_button__ihCvF",container:"panel-header_container__Tpwgq","container-fluid":"panel-header_container-fluid__2BVzq",panelHeader:"panel-header_panelHeader__nh5vd",row:"panel-header_row__3Hd78",col:"panel-header_col__yf9Fj",right:"panel-header_right__3JaRW",imgStyled:"panel-header_imgStyled__2vuU7",pStyled:"panel-header_pStyled__1tQWn"}},63:function(e,t,n){e.exports={root:"panel-browse_root__T6a7P",ui:"panel-browse_ui__2GpeC",segment:"panel-browse_segment__2Oy_X",image:"panel-browse_image__3o74J",mini:"panel-browse_mini__dIH4V",dropdown:"panel-browse_dropdown__27aMV",floating:"panel-browse_floating__14Lyu",menu:"panel-browse_menu__3aoda",item:"panel-browse_item__3zor6",button:"panel-browse_button__2yu-w",container:"panel-browse_container__3GHMl","container-fluid":"panel-browse_container-fluid__13Vgh",containerStyled:"panel-browse_containerStyled__6fzl1",colStyled:"panel-browse_colStyled__2tBbk",rowTopStyled:"panel-browse_rowTopStyled__A7YmL",hrStyled:"panel-browse_hrStyled__Y4cdp",rowBotStyled:"panel-browse_rowBotStyled__1GNH1",divNavStyled:"panel-browse_divNavStyled__7Kiop"}}},[[210,1,2]]]);