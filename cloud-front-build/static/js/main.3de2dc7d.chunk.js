(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{151:function(e,t,n){e.exports={App:"App_App__15LM-"}},207:function(e,t,n){},208:function(e,t,n){"use strict";n.r(t);n(173);var a,r=n(45),c=n(0),o=n.n(c),s=n(64),i=n.n(s),u=n(219),l=(n(178),n(8)),p=n(151),d=n.n(p),f=n(152),j=n(153),b=n(160),h=n(158),O=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(f.a)(this,n),r=t.call(this,e),a=e.history,r}return Object(j.a)(n,[{key:"render",value:function(){return null}}]),n}(o.a.Component),m=Object(u.d)(O);function x(e){if(!a)throw new Error("No history Object. You probably forgot to mount ReactRouterGlobalHistory");a.push(e)}var g,v,_=n(1),w=function(){return Object(_.jsxs)("div",{className:"",children:["Not Found or No Rights to access"," ",Object(_.jsx)("button",{onClick:function(){return x("/")},children:"Back to main"})]})},k=n(69),y=function(){return Object(_.jsx)("div",{style:{backgroundColor:"black",opacity:.7,zIndex:10,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",width:"100%",height:"100%"},children:Object(_.jsx)(k.a,{loading:!0,color:"grey",inverted:!0,size:"huge",name:"hourglass end"})})},S=n(7),E=n(5),A=n.n(E),C=n(10),T=n(14),I=n(228),N=n(220),B=n(225),R=n(221),D=function(e){var t=e.handleLogin,n=(e.errMessage,e.setErrMessage,Object(c.useState)("")),a=Object(T.a)(n,2),r=a[0],o=a[1],s=Object(c.useState)(""),i=Object(T.a)(s,2),u=i[0],l=i[1];return Object(_.jsxs)(N.a,{children:[Object(_.jsxs)(B.a.Item,{as:"a",onClick:function(){return x("/panel")},children:[Object(_.jsx)(k.a,{name:"lock"}),"Panel"]}),Object(_.jsxs)(B.a.Item,{as:"a",onClick:function(){return x("/auth/register")},children:[Object(_.jsx)(k.a,{name:"lock"}),"Register"]}),Object(_.jsx)(R.a,{label:"login",value:r,onChange:function(e){return o(e.currentTarget.value)}}),Object(_.jsx)(R.a,{label:"password",value:u,onChange:function(e){return l(e.currentTarget.value)}}),Object(_.jsx)(I.a,{active:!0,onClick:function(){return t(r,u)},children:"Login"})]})},U=function(e){var t=e.handleRegister,n=(e.errMessage,e.setErrMessage,Object(c.useState)("")),a=Object(T.a)(n,2),r=a[0],o=a[1],s=Object(c.useState)(""),i=Object(T.a)(s,2),u=i[0],l=i[1];return Object(_.jsxs)(N.a,{children:[Object(_.jsxs)(B.a.Item,{as:"a",onClick:function(){return x("/panel")},children:[Object(_.jsx)(k.a,{name:"lock"}),"Panel"]}),Object(_.jsxs)(B.a.Item,{as:"a",onClick:function(){return x("/auth/login")},children:[Object(_.jsx)(k.a,{name:"lock"}),"Login"]}),Object(_.jsx)(R.a,{label:"login",value:r,onChange:function(e){return o(e.currentTarget.value)}}),Object(_.jsx)(R.a,{label:"password",value:u,onChange:function(e){return l(e.currentTarget.value)}}),Object(_.jsx)(I.a,{active:!0,onClick:function(){return t(r,u)},children:"Register"})]})},M=function(e){var t=window.localStorage.getItem(e),n=null;try{n=t?JSON.parse(t):null}catch(a){console.warn("No key in local storage, please clear cookies and refresh")}return n},G=function(e,t){var n=JSON.stringify(t);window.localStorage.setItem(e,n)},F=function(){var e=M("accessToken");return{Authorization:"Bearer ".concat(e)}},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"".concat(e,"/").concat(encodeURIComponent(t))},z={accessToken:M("accessToken"),refreshToken:M("refreshToken")},J=l.Atom.of(z),P=n(18),L=function(e,t){G("accessToken",e),G("refreshToken",t),Object(P.swap)(J,(function(n){return{accessToken:e,refreshToken:t}}))},K=function(){var e=Object(C.a)(A.a.mark((function e(){var t,n,a,r,c,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(l.deref)(J),t.accessToken,!(n=t.refreshToken)){e.next=10;break}return e.next=4,xe({refreshToken:n}).catch((function(e){console.warn("Could not refresh ",e)}));case 4:if(!((a=e.sent)&&a.data&&a.data.accessToken&&a.data.refreshToken)){e.next=10;break}return r=a.data,c=r.accessToken,o=r.refreshToken,L(c,o),x("/auth"),e.abrupt("return");case 10:L(null,null),x("/auth");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!function(e){e.SUCCESS="3000",e.FAILURE="3001",e.INVALID_ACCESS_TOKEN="3002"}(g||(g={})),function(e){e[e.SUCCESS=200]="SUCCESS",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.INTERNAL_ERROR=500]="INTERNAL_ERROR"}(v||(v={}));var X=!1,W=function(){var e=Object(C.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data.data&&t.data.message&&t.data.statusCode?{code:t.data.statusCode,message:t.data.message,data:t.data.data}:t.data,e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(C.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.response){e.next=44;break}if(!(t.response.status&&t.response.data.statusCode&&t.response.data.message)){e.next=42;break}if(n={status:t.response.status,code:t.response.data.statusCode,message:t.response.data.message},console.warn(n),n.code!==g.INVALID_ACCESS_TOKEN){e.next=15;break}if(X){e.next=11;break}return X=!0,setTimeout((function(){X=!1}),6e4),le(),e.next=11,K();case 11:throw console.log(1),n;case 15:if(n.code!==g.FAILURE){e.next=40;break}if(n.status!==v.UNAUTHORIZED){e.next=27;break}if(X){e.next=23;break}return X=!0,setTimeout((function(){X=!1}),6e4),le(),e.next=23,K();case 23:throw console.log(2),n;case 27:if(n.status!==v.FORBIDDEN){e.next=32;break}throw console.log(3),n;case 32:if(n.status!==v.BAD_REQUEST){e.next=37;break}throw console.log(4),n;case 37:if(n.status!==v.INTERNAL_ERROR){e.next=40;break}throw console.log(5),n;case 40:e.next=44;break;case 42:console.log(6),console.error(t);case 44:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=M("currentGroupInfo"),Y=l.Atom.of(V),Z=function(e){G("currentGroupInfo",e),Object(P.swap)(Y,(function(t){return e}))},q=M("userGroupOwnage"),$=l.Atom.of(q),ee=function(e){G("userGroupOwnage",e),Object(P.swap)($,(function(t){return e}))},te=M("profileInfo"),ne=l.Atom.of(te),ae=function(e){G("profileInfo",e),Object(P.swap)(ne,(function(t){return e}))},re=M("storageInfo"),ce=l.Atom.of(re),oe=function(e){G("storageInfo",e),Object(P.swap)(ce,(function(t){return e}))},se=M("userGroupsList")||[],ie=l.Atom.of(se),ue=function(e){G("userGroupsList",e),Object(P.swap)(ie,(function(t){return e}))},le=function(){ae(null),ee(null),ue(null),Z(null),oe(null)},pe={Accept:"application/json","Content-Type":"application/json"},de=n(93),fe=n.n(de),je="https://storeton.herokuapp.com",be=(parseInt("3000"),fe.a.create({baseURL:"".concat(je,"/").concat("v1"),headers:pe,timeout:1e4})),he=fe.a.create({baseURL:"".concat(je,"/"),headers:pe,timeout:1e4}),Oe=function(e){return function(t){var n=t.path,a=t.headers,r=t.data,c=t.extra;return e(n,r||Object(S.a)(Object(S.a)({},c),{},{headers:a}),Object(S.a)(Object(S.a)({},c),{},{headers:a})).then(W).catch(H)}},me=function(e){var t=e.email,n=e.password;return Oe(be.post)({path:Q("/access/login"),data:{email:t,password:n}})},xe=function(e){var t=e.refreshToken;return Oe(be.put)({path:Q("/access/refresh"),headers:Object(S.a)({},F()),data:{refreshToken:t}})},ge=function(e){var t=e.email,n=e.password;return Oe(be.post)({path:Q("/access/register"),data:{email:t,password:n}})},ve=l.Atom.of(!1),_e=function(e){Object(P.swap)(ve,(function(t){return e}))},we=function(){var e=Object(l.useAtom)(J),t=Object(c.useState)(null),n=Object(T.a)(t,2),a=n[0],r=n[1],o=Object(c.useRef)(!0);Object(c.useEffect)((function(){return function(){o.current=!1}}),[]),Object(c.useEffect)((function(){_e(!0),!0===o.current&&e.accessToken&&e.refreshToken&&x("/panel"),_e(!1)}),[e]);var s=function(){var e=Object(C.a)(A.a.mark((function e(t){var n,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.accessToken,a=t.refreshToken,_e(!0),!o.current){e.next=5;break}return e.next=5,L(n,a);case 5:_e(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(C.a)(A.a.mark((function e(t,n){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.current){e.next=9;break}return _e(!0),e.next=4,me({email:t,password:n}).catch(function(){var e=Object(C.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.message){e.next=4;break}return e.next=3,r(t.message);case 3:alert(t.message);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:if(!(a=e.sent)||!a.data){e.next=8;break}return e.next=8,s(Object(S.a)({},a.data.tokens));case 8:_e(!1);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(C.a)(A.a.mark((function e(t,n){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.current){e.next=9;break}return _e(!0),e.next=4,ge({email:t,password:n}).catch(function(){var e=Object(C.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.message&&alert(t.message);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:if(!(a=e.sent)||!a.data){e.next=8;break}return e.next=8,s(Object(S.a)({},a.data.tokens));case 8:_e(!1);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(_.jsxs)(u.c,{children:[Object(_.jsx)(u.a,{exact:!0,path:"/auth/register",render:function(e){return Object(_.jsx)(U,Object(S.a)({handleRegister:p,errMessage:a,setErrMessage:r},e))}}),Object(_.jsx)(u.a,{path:"/auth",render:function(e){return Object(_.jsx)(D,Object(S.a)({handleLogin:i,errMessage:a,setErrMessage:r},e))}})]})},ke=n(159),ye=function(e){var t=e.handleGroupCreate,n=Object(c.useState)(""),a=Object(T.a)(n,2),r=a[0],o=a[1],s=Object(c.useState)(""),i=Object(T.a)(s,2),u=i[0],l=i[1];return Object(_.jsxs)("div",{children:[Object(_.jsx)(R.a,{label:"Group name",value:r,onChange:function(e){return o(e.currentTarget.value)}}),Object(_.jsx)(R.a,{label:"Group password",value:u,onChange:function(e){return l(e.currentTarget.value)}}),Object(_.jsx)(I.a,{active:!0,onClick:function(){return t(r,u)},children:"Create Group"}),Object(_.jsx)("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",backgroundColor:"black",opacity:"0.8",zIndex:-1}})]})},Se=function(){return Oe(be.get)({path:Q("/info/info-profile"),headers:Object(S.a)({},F())})},Ee=function(e){var t=e.id;return Oe(be.post)({path:Q("/info/info-group"),headers:Object(S.a)({},F()),data:{id:t}})},Ae=function(e){var t=e.groupId,n=e.password;return Oe(be.post)({path:Q("/group/join"),headers:Object(S.a)({},F()),data:{groupId:t,password:n}})},Ce=function(e){var t=e.groupId,n=e.userId;return Oe(be.post)({path:Q("/group/kick"),headers:Object(S.a)({},F()),data:{groupId:t,userId:n}})},Te=function(e){var t=e.ownerEmail;return Oe(be.post)({path:Q("/group/search-by-email"),headers:Object(S.a)({},F()),data:{ownerEmail:t}})},Ie=function(e){var t=e.groupName;return Oe(be.post)({path:Q("/group/search-by-name"),headers:Object(S.a)({},F()),data:{groupName:t}})},Ne=function(){var e=Object(c.useRef)(!0),t=(Object(l.useAtom)(J),Object(l.useAtom)(ie));Object(c.useEffect)((function(){return function(){e.current=!1}}),[]),Object(c.useEffect)((function(){e.current&&(_e(!0),Se().then(function(){var e=Object(C.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,e.next=3,ae(n.user);case 3:return e.next=5,ue(n.groupsList);case 5:if(!n.groupOwnage){e.next=8;break}return e.next=8,ee(n.groupOwnage);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){e.status===v.BAD_REQUEST&&alert(e.message)})).finally((function(){_e(!1)})))}),[]);return Object(_.jsx)(ye,{handleGroupCreate:function(e,n){_e(!0),function(e){var t=e.groupName,n=e.password;return Oe(be.post)({path:Q("/group/create"),headers:Object(S.a)({},F()),data:{groupName:t,password:n}})}({groupName:e,password:n}).then(function(){var e=Object(C.a)(A.a.mark((function e(n){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.code,n.message,a=n.data,console.log(a),e.next=4,ue([].concat(Object(ke.a)(t),[a.group]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){return x("/panel/browse")})).catch((function(e){e.status===v.BAD_REQUEST&&alert(e.message)})).finally((function(){_e(!1)}))}})},Be=function(){var e=Object(c.useState)('{\n        "method": "POST",\n        "url": "http://localhost:3000/v1/xxx",\n        "headers": {\n            "Authorization": "Bearer 123"\n        },\n        "data": {\n            "x": "345"\n        }\n    }'),t=Object(T.a)(e,2),n=t[0],a=t[1],r=function(){var e=Object(C.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe()(Object(S.a)({},JSON.parse(n))).catch((function(e){console.log(e.response),console.log(e.message)}));case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(_.jsxs)(N.a,{fluid:!0,children:["Landing head",Object(_.jsxs)(B.a.Item,{as:"a",onClick:function(){return x("/auth/register")},children:[Object(_.jsx)(k.a,{name:"lock"}),"Register"]}),Object(_.jsxs)(B.a.Item,{as:"a",onClick:function(){return x("/auth/login")},children:[Object(_.jsx)(k.a,{name:"lock"}),"Login"]}),Object(_.jsxs)(N.a,{fluid:!0,children:["Request object",Object(_.jsx)("textarea",{style:{width:"60%",height:"30%"},value:n,onChange:function(e){return a(e.currentTarget.value)}}),Object(_.jsx)(I.a,{active:!0,onClick:function(){return r()},children:"Fetch"})]})]})},Re=function(){return Object(_.jsx)(_.Fragment,{})},De=function(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Be,{}),Object(_.jsx)(Re,{})]})},Ue=n(227),Me=n(226),Ge=n(222),Fe=n(223),Qe=n(209),ze=n(224),Je=l.Atom.of("/"),Pe=function(e){Object(P.swap)(Je,(function(t){return e}))},Le=n(94),Ke=function(e){var t=e.id,n=e.options;return Object(_.jsx)(Le.b,{id:t,children:n.map((function(e){var t=e.text,n=e.action;return Object(_.jsx)(Le.a,{onClick:n,children:t})}))})},Xe=n(47),We=n.n(Xe),He=function(e){var t=e.iconName,n=e.entityText,a=e.entityTextAlt,r=e.onClick,c=e.onContextMenu;return Object(_.jsx)("div",{className:We.a.entity,onClick:r,onContextMenu:c,children:Object(_.jsxs)(N.a,{className:We.a.containerStyled,children:[Object(_.jsx)(Ge.a,{className:We.a.rowTop,children:Object(_.jsx)(Fe.a,{className:We.a.colTopStyled,children:Object(_.jsx)(k.a,{size:"massive",name:t,className:We.a.iconTopStyled})})}),Object(_.jsxs)(Ge.a,{className:We.a.rowBot,children:[Object(_.jsx)(k.a,{size:"large",name:t,className:We.a.iconBotStyled}),Object(_.jsxs)(Fe.a,{className:We.a.colBotStyled,children:[Object(_.jsx)("p",{children:n}),Object(_.jsx)("p",{children:a})]})]})]})})},Ve=function(e){var t=e.idx,n=e.menuOptions,a=e.onClick,r=e.onContextMenu,c=e.iconName,o=e.entityText,s="menuId_".concat(t),i=Object(Le.c)({id:s}).show;return Object(_.jsxs)(Fe.a,{xs:10,sm:8,md:6,lg:5,xl:4,children:[Object(_.jsx)(He,{iconName:c,entityText:o,onClick:a,onContextMenu:function(e){return r(e,i)},entityTextAlt:""}),Object(_.jsx)(Ke,{id:s,options:n})]})},Ye=n(62),Ze=n.n(Ye),qe=function(e){var t=e.currentPathContent,n=e.currentGroupInfo,a=(e.profileInfo,e.groupOwnage,e.onClickFolder),r=e.onClickFile,o=e.onContextMenu,s=e.path,i=e.handleDownload,u=e.handleRenameFile,l=e.handleRenameFolder,p=e.handleDeteleFile,d=e.handleDeteleFolder,f=e.handleGroupKick,j=Object(c.useRef)(!0),b=function(e){return[{text:"rename",action:function(){return l(e)}},{text:"delete",action:function(){return d(e)}}]},h=function(e){return[{text:"download",action:function(){return i(e)}},{text:"rename",action:function(){return u(e)}},{text:"delete",action:function(){return p(e)}}]};Object(c.useEffect)((function(){return function(){j.current=!1}}),[]);for(var O=t.folders.map((function(e,t){return Object(_.jsx)(Ve,{idx:t,menuOptions:b(t),onClick:function(t){return a(t,e)},onContextMenu:o,iconName:"folder open",entityText:e})})),m=t.files.map((function(e,t){return Object(_.jsx)(Ve,{idx:t,menuOptions:h(t),onClick:function(t){return r(t,e)},onContextMenu:o,iconName:"file",entityText:e})})),x=[],g=0,v=0;v<s.length;v++)"/"===s[v]&&(x.push({path:0===v?"/":s.slice(0,v),btnText:0===v?"/home":s.slice(g,v)}),g=v);x.push({path:s.slice(0),btnText:s.slice(g)});var w=x.map((function(e,t){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Qe.a,{basic:!0,color:"grey",onClick:function(){Pe("".concat(x[t].path))},children:x[t].btnText}),">"]})}));return Object(_.jsxs)(N.a,{fluid:!0,className:Ze.a.containerStyled,children:[Object(_.jsx)(Ge.a,{className:Ze.a.rowTopStyled,children:Object(_.jsx)(Fe.a,{xs:16,children:Object(_.jsx)("h1",{style:{paddingLeft:"5px"},children:"File Manager"})})}),Object(_.jsx)("hr",{className:Ze.a.hrStyled}),Object(_.jsx)(Ge.a,{className:Ze.a.rowTopStyled,children:Object(_.jsx)(Fe.a,{xs:16,children:Object(_.jsxs)("div",{className:Ze.a.divNavStyled,children:[Object(_.jsx)(Fe.a,{children:Object(_.jsx)("p",{children:w})}),Object(_.jsx)(Fe.a,{xs:2,style:{display:"flex",justifyContent:"end"},children:Object(_.jsx)(B.a,{icon:!0,vertical:!0,children:Object(_.jsx)(ze.a,{direction:"left",pointing:"left",item:!0,placeholder:"\ud83d\udc65",children:Object(_.jsx)(ze.a.Menu,{children:n.groupParticipants.map((function(e){return Object(_.jsxs)(ze.a.Item,{onClick:function(){return f(e)},children:[Object(_.jsx)(k.a,{name:"trash"}),e.name||e.email]})}))})})})})]})})}),Object(_.jsx)("hr",{className:Ze.a.hrStyled}),Object(_.jsxs)(Ge.a,{className:Ze.a.rowBotStyled,children:[O,m]})]})},$e=n(22),et=n.n($e),tt=n(157),nt=n.p+"static/media/avatar.8e7d93ca.png",at=n(48),rt=n.n(at),ct=function(e){var t=e.toggleSidebar,n=Object(c.useRef)(!0),a=Object(l.useAtom)(ne);Object(c.useEffect)((function(){return function(){n.current=!1}}),[]);var r=function(){var e=Object(C.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.current){e.next=7;break}return _e(!0),e.next=4,Oe(be.delete)({path:Q("/access/logout"),headers:Object(S.a)({},F())}).catch((function(e){e.status===v.BAD_REQUEST&&alert(e.message)}));case 4:le(),L(null,null),x("/auth"),_e(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(_.jsx)(N.a,{fluid:!0,className:rt.a.panelHeader,children:Object(_.jsxs)(Ge.a,{className:rt.a.row,children:[Object(_.jsx)(Fe.a,{xs:6,sm:3,md:2,className:rt.a.col,children:Object(_.jsx)(tt.a,{src:"data:image/png;base64,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",className:rt.a.imgStyled,onClick:function(){return x("/panel")}})}),Object(_.jsx)(Fe.a,{xs:1,className:rt.a.col,children:Object(_.jsx)(k.a,{link:!0,size:"large",name:"bars",onClick:t})}),Object(_.jsx)(Fe.a,{}),Object(_.jsxs)(Fe.a,{xs:7,sm:6,md:5,lg:4,xl:3,className:et()(rt.a.col,rt.a.right),children:[Object(_.jsx)(k.a,{link:!0,name:"bell",color:"grey",inverted:!0}),Object(_.jsx)(tt.a,{src:nt,size:"mini"}),Object(_.jsx)("p",{className:rt.a.pStyled,children:(null===a||void 0===a?void 0:a.email)||"profile"}),Object(_.jsx)(ze.a,{direction:"left",closeOnChange:!0,children:Object(_.jsxs)(ze.a.Menu,{children:[Object(_.jsx)(ze.a.Item,{text:"Settings",onClick:function(){return x("/panel/settings")}}),Object(_.jsx)(ze.a.Item,{text:"Logout",onClick:r})]})})]})]})})},ot=n(29),st=n.n(ot),it=function(e){var t=e.storageInfo,n=e.groupOwnage,a=e.currentGroupInfo,r=e.selectGroupOptions,c=e.handleChange,o=e.handleUpload,s=e.handleCreateFolder;return Object(_.jsxs)(N.a,{className:st.a.containerCustom,children:[Object(_.jsxs)("div",{className:st.a.wrapTop,children:[Object(_.jsx)(Ge.a,{children:Object(_.jsxs)(Fe.a,{className:st.a.col,children:[Object(_.jsx)("input",{type:"file",onChange:o,style:{width:"10px !important",position:"absolute",right:"55%",opacity:0},multiple:!0}),Object(_.jsx)(k.a,{link:!0,size:"big",name:"cloud upload"}),Object(_.jsxs)(k.a.Group,{size:"large",onClick:s,children:[Object(_.jsx)(k.a,{link:!0,size:"large",name:"folder"}),Object(_.jsx)(k.a,{size:"small",corner:!0,inverted:!0,color:"grey",name:"add"})]})]})}),Object(_.jsx)("hr",{className:st.a.hrStyled}),Object(_.jsx)(Ge.a,{children:Object(_.jsx)(Fe.a,{children:Object(_.jsxs)(B.a,{secondary:!0,vertical:!0,children:[Object(_.jsxs)(B.a.Item,{as:"a",onClick:function(){return x("/panel/browse")},children:[Object(_.jsx)(k.a,{name:"file"}),"File Manager"]}),Object(_.jsxs)(B.a.Item,{as:"a",onClick:function(){return x("/panel/search")},children:[Object(_.jsx)(k.a,{name:"search"}),"Spaces search"]}),Object(_.jsxs)(B.a.Item,{as:"a",onClick:function(){return x("/panel/privelege")},children:[Object(_.jsx)(k.a,{name:"money"}),"Privelege"]})]})})})]}),Object(_.jsxs)("div",{className:st.a.wrapBot,children:[Object(_.jsx)("hr",{className:st.a.hrStyled}),Object(_.jsx)(Ge.a,{children:Object(_.jsxs)(Fe.a,{className:st.a.col,children:[Object(_.jsx)(k.a,{size:"big",name:"server",className:st.a.iFix}),Object(_.jsx)("p",{children:t?"".concat(Math.round(t.sizeUsed)," MB of ").concat(Math.round(t.sizeMax)," MB used"):"Please, select group or join one!"})]})}),Object(_.jsx)("hr",{className:st.a.hrStyled}),Object(_.jsx)(Ge.a,{children:Object(_.jsxs)(Fe.a,{className:et()(st.a.col,st.a.groupBot),children:[Object(_.jsx)("span",{className:st.a.groupInfo,children:Object(_.jsx)("p",{className:st.a.pStyled,children:"Current Group"})}),n&&a&&n.id===a.id&&"You own this group",Object(_.jsx)(ze.a,{placeholder:"Select group",upward:!0,floating:!0,options:r,onChange:c,value:a?a.id:void 0})]})})]})]})},ut=function(e){var t=e.handleBuy100,n=e.handleBuy500;return Object(_.jsxs)(N.a,{children:[Object(_.jsx)(Qe.a,{active:!0,onClick:function(){return t()},children:"Buy 100"}),Object(_.jsx)(Qe.a,{active:!0,onClick:function(){return n()},children:"Buy 500"})]})},lt=function(e){var t=e.handleGroupSearch,n=e.handleGroupJoin,a=e.groupsFound,r=Object(c.useState)(""),o=Object(T.a)(r,2),s=o[0],i=o[1],u=Object(c.useState)(""),l=Object(T.a)(u,2),p=l[0],d=l[1];return Object(_.jsxs)(N.a,{fluid:!0,style:{display:"flex",flexDirection:"row"},children:[Object(_.jsxs)(Fe.a,{xs:8,style:{display:"flex",flexDirection:"column"},children:[Object(_.jsx)(R.a,{label:"groupName",value:s,onChange:function(e){d(""),i(e.currentTarget.value)}}),Object(_.jsx)(R.a,{label:"email",value:p,onChange:function(e){i(""),d(e.currentTarget.value)}}),Object(_.jsx)(I.a,{active:!0,onClick:function(){return t(s,p)},children:"Search"})]}),Object(_.jsx)(Fe.a,{xs:8,children:a.map((function(e){var t=e.ownerId,a=e.groupId,r=e.groupName;return Object(_.jsx)("div",{onClick:function(){n({ownerId:t,groupId:a,groupName:r})},children:JSON.stringify({ownerId:t,groupId:a,groupName:r})})}))})]})},pt=n(30),dt=n.n(pt),ft=function(){return Object(_.jsx)(N.a,{fluid:!0,className:dt.a.fullSize,children:Object(_.jsxs)(Ge.a,{className:et()(dt.a.fullSize,dt.a.settingsBlocksWrap),children:[Object(_.jsxs)(Fe.a,{xs:14,lg:7,className:et()(dt.a.settingsBlock),children:[Object(_.jsx)(Ge.a,{className:dt.a.rowSideTop,children:"Name"}),Object(_.jsx)(Ge.a,{className:dt.a.rowMiddle,children:"Content"}),Object(_.jsx)(Ge.a,{className:dt.a.rowSideBot,children:Object(_.jsx)(I.a,{active:!0,className:dt.a.btn,children:"button"})})]}),Object(_.jsxs)(Fe.a,{xs:14,lg:7,className:et()(dt.a.settingsBlock),children:[Object(_.jsx)(Ge.a,{className:dt.a.rowSideTop,children:"Name"}),Object(_.jsx)(Ge.a,{className:dt.a.rowMiddle,children:"Content"}),Object(_.jsx)(Ge.a,{className:dt.a.rowSideBot,children:Object(_.jsx)(I.a,{active:!0,className:dt.a.btn,children:"button"})})]})]})})},jt=l.Atom.of(!0),bt=function(){Object(P.swap)(jt,(function(e){return!e}))},ht=n(119),Ot=n.n(ht),mt=function(e){var t=e.groupId,n=e.path;return Oe(be.delete)({path:Q("/fs/delete-file-folder","".concat(t,"-").concat(n)),headers:Object(S.a)({},F())})},xt=function(e){var t=e.groupId,n=e.path,a=e.filename,r=Q("/fs/download-file","".concat(t,"-").concat(n,"-").concat(a));return Oe(be.get)({path:r,headers:Object(S.a)({},F()),extra:{responseType:"arraybuffer"}})},gt=function(e){var t=e.groupId,n=e.path,a=e.filename;return Oe(be.patch)({path:Q("/fs/rename-file-folder","".concat(t,"-").concat(n,"-").concat(a)),headers:Object(S.a)({},F()),data:{}})},vt=function(){var e=Object(c.useRef)(!0),t=Object(l.useAtom)(Y),n=Object(l.useAtom)(Je),a=Object(l.useAtom)(jt),r=Object(l.useAtom)($),o=Object(l.useAtom)(ne),s=Object(c.useState)({files:[],folders:[]}),i=Object(T.a)(s,2),u=i[0],p=i[1];Object(c.useEffect)((function(){return function(){e.current=!1}}),[]),Object(c.useEffect)((function(){e.current&&t&&Pe("/")}),[t]),Object(c.useEffect)((function(){e.current&&t&&t.id&&(_e(!0),function(e){var t=e.groupId,n=e.path;return Oe(be.get)({path:Q("/fs/browse-folder","".concat(t,"-").concat(n)),headers:Object(S.a)({},F())})}({groupId:t.id,path:n}).then((function(e){var t=e.data;p(Object(S.a)({},t))})).catch((function(e){[v.BAD_REQUEST,v.FORBIDDEN].includes(e.status)&&alert(e.message)})).finally((function(){_e(!1)})))}),[n,t,a]);var d=function(){var t=Object(C.a)(A.a.mark((function t(n,a){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),e.current){t.next=3;break}return t.abrupt("return");case 3:a(n);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),f=function(){var a=Object(C.a)(A.a.mark((function a(r){var c,o;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.current&&t){a.next=2;break}return a.abrupt("return");case 2:if(c=u.files[r],o=prompt("Enter new name")){a.next=6;break}return a.abrupt("return");case 6:_e(!0),gt({groupId:t.id,path:"".concat(n,"/").concat(c),filename:"".concat(n,"/").concat(o)}).then(bt).catch((function(e){e.status===v.BAD_REQUEST&&alert(e.message)})).finally((function(){_e(!1)}));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),j=function(){var a=Object(C.a)(A.a.mark((function a(r){var c,o;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.current&&t){a.next=2;break}return a.abrupt("return");case 2:if(c=u.folders[r],o=prompt("Enter new name")){a.next=6;break}return a.abrupt("return");case 6:_e(!0),gt({groupId:t.id,path:"".concat(n,"/").concat(c),filename:"".concat(n,"/").concat(o)}).then(bt).catch((function(e){e.status===v.BAD_REQUEST&&alert(e.message)})).finally((function(){_e(!1)}));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),b=function(){var a=Object(C.a)(A.a.mark((function a(r){var c;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.current&&t){a.next=2;break}return a.abrupt("return");case 2:c=u.files[r],_e(!0),mt({groupId:t.id,path:"".concat(n,"/").concat(c)}).then(bt).catch((function(e){e.status===v.BAD_REQUEST&&alert(e.message)})).finally((function(){_e(!1)}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),h=function(){var a=Object(C.a)(A.a.mark((function a(r){var c;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.current&&t){a.next=2;break}return a.abrupt("return");case 2:c=u.folders[r],_e(!0),mt({groupId:t.id,path:"".concat(n,"/").concat(c)}).then(bt).catch((function(e){e.status===v.BAD_REQUEST&&alert(e.message)})).finally((function(){_e(!1)}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),O=function(){var a=Object(C.a)(A.a.mark((function a(r){var c;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.current&&t){a.next=2;break}return a.abrupt("return");case 2:c=u.files[r],_e(!0),xt({groupId:t.id,path:n,filename:c}).then((function(e){var t=new Blob([e],{type:Ot.a.contentType(c)}),n=document.createElement("a"),a=window.URL.createObjectURL(t);n.href=a,n.download=c,n.click(),URL.revokeObjectURL(n.href)})).catch((function(e){e.status===v.BAD_REQUEST&&alert(e.message)})).finally((function(){_e(!1)}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),m=function(){var n=Object(C.a)(A.a.mark((function n(a){return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.current&&t){n.next=2;break}return n.abrupt("return");case 2:return _e(!0),n.next=5,Ce({groupId:t.id,userId:a.id}).then((function(e){alert(e.message)})).then(bt).catch((function(e){e.status===v.BAD_REQUEST&&alert(e.message)}));case 5:n.sent,_e(!1);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(_.jsx)(_.Fragment,{children:t?Object(_.jsx)(qe,{currentPathContent:u,currentGroupInfo:t,groupOwnage:r,profileInfo:o,onClickFolder:function(t,a){t.preventDefault(),e.current&&Pe(n+"".concat("/"===n?"":"/").concat(a))},onClickFile:function(e,t){e.preventDefault(),alert("This is file, can't do anything here")},onContextMenu:d,path:n,handleDownload:O,handleRenameFile:f,handleRenameFolder:j,handleDeteleFile:b,handleDeteleFolder:h,handleGroupKick:m}):Object(_.jsx)("p",{children:"PLEASE CHOOSE GROUP TO START WORKING!"})})},_t=function(e){var t=e.visible,n=e.direction,a=e.animation,r=e.closeSidebar,o=e.mainContentRef,s=Object(c.useRef)(!0),i=Object(l.useAtom)($),u=Object(l.useAtom)(ie),p=Object(l.useAtom)(ce),d=Object(l.useAtom)(Y),f=Object(l.useAtom)(Je);Object(c.useEffect)((function(){return function(){s.current=!1}}),[]);var j=[];u&&(j=u.map((function(e){return{key:e.id,text:e.name,value:e.id}})));var b=function(){var e=Object(C.a)(A.a.mark((function e(t,n){var a,r,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.value,r=u.filter((function(e){return e.id===a})),!s.current||!r||0===r.length){e.next=12;break}return _e(!0),e.next=6,Ee({id:r[0].id}).catch((function(e){e.status===v.BAD_REQUEST&&alert(e.message)}));case 6:if(c=e.sent,_e(!1),c&&c.data&&s.current){e.next=10;break}return e.abrupt("return");case 10:Z({id:c.data.groupInfo.id,name:c.data.groupInfo.name,groupParticipants:c.data.groupParticipants}),bt();case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(_.jsx)(Ue.a,{visible:t,direction:n,animation:a,onHide:r,target:o,children:Object(_.jsx)(it,{storageInfo:p,groupOwnage:i,currentGroupInfo:d,selectGroupOptions:j,handleChange:b,handleUpload:function(e){if(d){var t=e.currentTarget.files[0];_e(!0),function(e){var t=e.groupId,n=e.path,a=e.filename,r=e.data;return Oe(be.post)({path:Q("/fs/upload-file","".concat(t,"-").concat(n,"-").concat(a)),headers:Object(S.a)(Object(S.a)({},F()),{},{"Content-Type":Ot.a.contentType(a)||pe["Content-Type"]}),data:r})}({groupId:d.id,path:f,filename:t.name,data:t}).then(bt).catch((function(e){e.status===v.BAD_REQUEST&&alert(e.message)})).finally((function(){_e(!1)}))}},handleCreateFolder:function(){if(d){var e=prompt("Enter folder name");e&&(_e(!0),function(e){var t=e.groupId,n=e.path,a=e.filename;return Oe(be.put)({path:Q("/fs/create-folder","".concat(t,"-").concat(n,"-").concat(a)),headers:Object(S.a)({},F()),data:{}})}({groupId:d.id,path:f,filename:e}).then(bt).catch((function(e){e.status===v.BAD_REQUEST&&alert(e.message)})).finally((function(){_e(!1)})))}}})})},wt=function(){var e=Object(c.useRef)(!0),t=function(){var t=Object(C.a)(A.a.mark((function t(){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.current){t.next=2;break}return t.abrupt("return");case 2:return _e(!0),t.next=5,Oe(he.post)({path:Q("/services/payment/add100"),headers:Object(S.a)({},F()),data:{}}).catch((function(e){[v.BAD_REQUEST,v.FORBIDDEN].includes(e.status)&&alert(e.message)}));case 5:if(n=t.sent,_e(!1),n){t.next=9;break}return t.abrupt("return");case 9:alert(n.message),bt();case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(C.a)(A.a.mark((function t(){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.current){t.next=2;break}return t.abrupt("return");case 2:return _e(!0),t.next=5,Oe(he.post)({path:Q("/services/payment/add500"),headers:Object(S.a)({},F()),data:{}}).catch((function(e){[v.BAD_REQUEST,v.FORBIDDEN].includes(e.status)&&alert(e.message)}));case 5:if(n=t.sent,_e(!1),n){t.next=9;break}return t.abrupt("return");case 9:alert(n.message),bt();case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(_.jsx)(ut,{handleBuy100:t,handleBuy500:n})},kt=function(){var e=Object(c.useRef)(!0),t=Object(c.useState)([]),n=Object(T.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){return function(){e.current=!1}}),[]);var o=function(){var t=Object(C.a)(A.a.mark((function t(n,a){var c;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.current){t.next=16;break}if(_e(!0),!n){t.next=8;break}return t.next=5,Ie({groupName:n}).catch((function(e){e.status===v.BAD_REQUEST&&alert(e.message)}));case 5:c=t.sent,t.next=11;break;case 8:return t.next=10,Te({ownerEmail:a}).catch((function(e){e.status===v.BAD_REQUEST&&alert(e.message)}));case 10:c=t.sent;case 11:if(_e(!1),c){t.next=14;break}return t.abrupt("return");case 14:return t.next=16,r(c.data);case 16:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),s=function(){var t=Object(C.a)(A.a.mark((function t(n){var a,r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.ownerId,a=n.groupId,n.groupName,r=prompt("Enter group password"),e.current&&r){t.next=4;break}return t.abrupt("return");case 4:return _e(!0),t.next=7,Ae({groupId:a,password:r}).then(bt).catch((function(e){e.status===v.BAD_REQUEST&&alert(e.message)}));case 7:_e(!1);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(_.jsx)(lt,{handleGroupSearch:o,handleGroupJoin:s,groupsFound:a})},yt=function(){return Object(_.jsx)(ft,{})},St=function(){var e=Object(c.useRef)(!0),t=Object(c.useState)({dimmed:!1,visible:!1,animation:"overlay",direction:"left"}),n=Object(T.a)(t,2),a=n[0],r=n[1],o=a.dimmed,s=a.visible,i=a.animation,p=a.direction,d=Object(l.useAtom)(jt),f=(Object(l.useAtom)(J),Object(l.useAtom)(Y)),j=Object(c.useRef)(null);Object(c.useEffect)((function(){return function(){e.current=!1}}),[]),Object(c.useEffect)((function(){e.current&&(_e(!0),Se().then(function(){var e=Object(C.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.code,t.message,n=t.data,console.log(n),e.next=4,ae(n.user);case 4:return e.next=6,ue(n.groupsList);case 6:if(!n.groupOwnage){e.next=9;break}return e.next=9,ee(n.groupOwnage);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){e.code;var t=e.message;e.status;console.warn(t)})).finally((function(){_e(!1)})))}),[d]),Object(c.useEffect)((function(){e.current&&f&&(_e(!0),Ee({id:f.id}).then(function(){var e=Object(C.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.code,t.message,n=t.data,oe(n.storageInfo),Z({id:n.groupInfo.id,name:n.groupInfo.name,groupParticipants:n.groupParticipants});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){e.status===v.BAD_REQUEST&&alert(e.message)})).finally((function(){_e(!1)})))}),[d]);var b=function(){var t=Object(C.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.current&&a.dimmed&&a.visible)){t.next=3;break}return t.next=3,r((function(e){return Object(S.a)(Object(S.a)({},e),{},{dimmed:!1,visible:!1})}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(C.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.current){t.next=3;break}return t.next=3,r((function(e){return Object(S.a)(Object(S.a)({},e),{},{dimmed:!e.dimmed,visible:!e.visible})}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ct,{toggleSidebar:h}),Object(_.jsxs)(Ue.a.Pushable,{style:{overflow:"visible",height:"calc(100% - 65px)"},children:[Object(_.jsx)(_t,{visible:s,animation:i,direction:p,closeSidebar:b,mainContentRef:j}),Object(_.jsx)(Me.a,{innerRef:j,children:Object(_.jsx)(Ue.a.Pusher,{dimmed:o,style:{width:o?"90%":"100%",height:"100%",float:"right",transition:"width 0.5s"},children:Object(_.jsxs)(u.c,{children:[Object(_.jsx)(u.a,{exact:!0,path:"/panel",component:vt}),Object(_.jsx)(u.a,{exact:!0,path:"/panel/browse",component:vt}),Object(_.jsx)(u.a,{exact:!0,path:"/panel/search",component:kt}),Object(_.jsx)(u.a,{exact:!0,path:"/panel/privelege",component:wt}),Object(_.jsx)(u.a,{exact:!0,path:"/panel/settings",component:yt}),Object(_.jsx)(u.a,{path:"/panel",component:w})]})})})]})]})},Et=(n(207),Object(r.a)());i.a.render(Object(_.jsx)(o.a.StrictMode,{children:Object(_.jsxs)(u.b,{history:Et,children:[Object(_.jsx)(m,{}),Object(_.jsx)(u.c,{children:Object(_.jsx)(u.a,{path:"/",component:function(){var e=Object(l.useAtom)(ie),t=Object(l.useAtom)(J),n=Object(l.useAtom)(ve);return Object(_.jsxs)("div",{className:d.a.App,children:[n?Object(_.jsx)(y,{}):null,Object(_.jsxs)(u.c,{children:[Object(_.jsx)(u.a,{exact:!0,path:"/",component:De}),Object(_.jsx)(u.a,{path:"/auth",component:we}),t&&t.accessToken&&t.refreshToken&&Object(_.jsx)(u.a,{path:"/panel",component:e&&e.length?St:Ne}),Object(_.jsx)(u.a,{path:"/",component:w})]})]})}})})]})}),document.getElementById("root"))},29:function(e,t,n){e.exports={root:"panel-navigation_root__2Onz5",ui:"panel-navigation_ui__1770U",segment:"panel-navigation_segment__1X47s",image:"panel-navigation_image__1yVna",mini:"panel-navigation_mini__2TUdc",dropdown:"panel-navigation_dropdown__2hBm4",floating:"panel-navigation_floating__1nOpn",menu:"panel-navigation_menu__2Y_y3",item:"panel-navigation_item__396yN",button:"panel-navigation_button__nshwb",container:"panel-navigation_container__2rA6Q","container-fluid":"panel-navigation_container-fluid__3nut-",navbar:"panel-navigation_navbar__2F7ts",containerCustom:"panel-navigation_containerCustom__36ZMD",col:"panel-navigation_col__2Zwje",hrStyled:"panel-navigation_hrStyled__teZtl",wrapBot:"panel-navigation_wrapBot__N7a64",groupBot:"panel-navigation_groupBot__13vmo",pStyled:"panel-navigation_pStyled__2uOa-"}},30:function(e,t,n){e.exports={settingsBlock:"panel-settings_settingsBlock__4dIAh",settingsBlocksWrap:"panel-settings_settingsBlocksWrap__-Tr4l",fullSize:"panel-settings_fullSize__1CrfI",rowSideTop:"panel-settings_rowSideTop__14gDp",rowSideBot:"panel-settings_rowSideBot__39uNQ",btn:"panel-settings_btn__18hnJ",rowMiddle:"panel-settings_rowMiddle__3HJTL"}},47:function(e,t,n){e.exports={root:"panel-entity-view_root__1wuI7",ui:"panel-entity-view_ui__10HbF",segment:"panel-entity-view_segment__3nRVl",image:"panel-entity-view_image__1DrNm",mini:"panel-entity-view_mini__3UTpm",dropdown:"panel-entity-view_dropdown__1kgcB",floating:"panel-entity-view_floating__1S2yK",menu:"panel-entity-view_menu__qgiiJ",item:"panel-entity-view_item__3_yln",button:"panel-entity-view_button__VTXWB",container:"panel-entity-view_container__3cOGf","container-fluid":"panel-entity-view_container-fluid__2wNgN",entity:"panel-entity-view_entity__1KF0X",containerStyled:"panel-entity-view_containerStyled__2KPrv",rowTop:"panel-entity-view_rowTop__2g7cE",colTopStyled:"panel-entity-view_colTopStyled__2J_Yd",rowBot:"panel-entity-view_rowBot__2TP5d",iconBotStyled:"panel-entity-view_iconBotStyled__1MXHS",colBotStyled:"panel-entity-view_colBotStyled__3IflU"}},48:function(e,t,n){e.exports={root:"panel-header_root__p29ZL",ui:"panel-header_ui__1noJx",segment:"panel-header_segment__bgGP9",image:"panel-header_image__38eKb",mini:"panel-header_mini__NYMe1",dropdown:"panel-header_dropdown__3PF-k",floating:"panel-header_floating__2Nd0x",menu:"panel-header_menu__vHAvg",item:"panel-header_item__2Ry-r",button:"panel-header_button__ihCvF",container:"panel-header_container__Tpwgq","container-fluid":"panel-header_container-fluid__2BVzq",panelHeader:"panel-header_panelHeader__nh5vd",row:"panel-header_row__3Hd78",col:"panel-header_col__yf9Fj",right:"panel-header_right__3JaRW",imgStyled:"panel-header_imgStyled__2vuU7",pStyled:"panel-header_pStyled__1tQWn"}},62:function(e,t,n){e.exports={root:"panel-browse_root__T6a7P",ui:"panel-browse_ui__2GpeC",segment:"panel-browse_segment__2Oy_X",image:"panel-browse_image__3o74J",mini:"panel-browse_mini__dIH4V",dropdown:"panel-browse_dropdown__27aMV",floating:"panel-browse_floating__14Lyu",menu:"panel-browse_menu__3aoda",item:"panel-browse_item__3zor6",button:"panel-browse_button__2yu-w",container:"panel-browse_container__3GHMl","container-fluid":"panel-browse_container-fluid__13Vgh",containerStyled:"panel-browse_containerStyled__6fzl1",colStyled:"panel-browse_colStyled__2tBbk",rowTopStyled:"panel-browse_rowTopStyled__A7YmL",hrStyled:"panel-browse_hrStyled__Y4cdp",rowBotStyled:"panel-browse_rowBotStyled__1GNH1",divNavStyled:"panel-browse_divNavStyled__7Kiop"}}},[[208,1,2]]]);